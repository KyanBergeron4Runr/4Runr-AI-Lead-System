# Data Cleaner - Cleaning Rules Configuration
# This file defines comprehensive cleaning patterns for removing garbage data
# and normalizing company names and website URLs.

company_name:
  # Patterns to remove from company names (garbage data, search artifacts, etc.)
  remove_patterns:
    # Search engine artifacts
    - 'google'
    - 'search results?'
    - 'linkedin'
    - 'facebook'
    - 'twitter'
    - 'instagram'
    - 'youtube'
    
    # Specific garbage patterns from requirements
    - 'Some results may have been.*'
    - 'Sirius XM and.*'
    - 'delisted consistent with local laws'
    - 'Learn more Next'
    - 'About \d+.*results'
    - 'About [0-9,]+ results'
    
    # Search navigation elements
    - 'Search instead for.*'
    - 'Did you mean:.*'
    - 'Showing results for.*'
    - 'No results found for.*'
    - 'Previous.*Next'
    - 'Page \d+ of \d+'
    - 'More results'
    - 'Related searches'
    - 'People also ask'
    - 'Videos.*Images.*News.*Shopping'
    - 'Cached.*Similar.*'
    - 'More from.*'
    - 'Jump to.*'
    - 'See results about.*'
    
    # URL fragments and web artifacts
    - 'www\.'
    - 'http'
    - 'https'
    - '\.com'
    - '\.org'
    - '\.net'
    - 'website'
    - 'page'
    - 'profile'
    - 'company/'
    - 'about/'
    
    # Placeholder and error values
    - 'unknown'
    - 'not found'
    - 'error'
    - 'none'
    - 'null'
    - 'undefined'
    - 'n/a'
    - 'na'
    - 'tbd'
    - 'pending'
    - 'temp'
    - 'temporary'
    
    # Test and demo data
    - '^test\s*'
    - '^demo\s*'
    - '^sample\s*'
    - '^example\s*'
    - 'test company'
    - 'demo company'
    - 'sample company'
    
    # HTML and markup remnants
    - '<[^>]*>'
    - '&[a-zA-Z][a-zA-Z0-9]*;'
    - '&#\d+;'
    - '&#x[0-9a-fA-F]+;'
    
    # Excessive punctuation and formatting
    - '\.{3,}'
    - '-{3,}'
    - '_{3,}'
    - '\s{3,}'
    
    # Contact information fragments
    - '\d{3}-\d{3}-\d{4}'
    - '\(\d{3}\)\s*\d{3}-\d{4}'
    - '[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}'
    
  # Patterns to normalize company names (standardize legal entity suffixes)
  normalize_patterns:
    # English legal entities
    - pattern: '\s+Inc\.?$'
      replacement: ' Inc'
    - pattern: '\s+LLC\.?$'
      replacement: ' LLC'
    - pattern: '\s+Corp\.?$'
      replacement: ' Corp'
    - pattern: '\s+Ltd\.?$'
      replacement: ' Ltd'
    - pattern: '\s+Company\.?$'
      replacement: ' Company'
    - pattern: '\s+Group\.?$'
      replacement: ' Group'
    - pattern: '\s+Limited\.?$'
      replacement: ' Limited'
    - pattern: '\s+Corporation\.?$'
      replacement: ' Corporation'
    - pattern: '\s+Incorporated\.?$'
      replacement: ' Inc'
    - pattern: '\s+Co\.?$'
      replacement: ' Co'
    - pattern: '\s+PLC\.?$'
      replacement: ' PLC'
    
    # International legal entities
    - pattern: '\s+GmbH\.?$'
      replacement: ' GmbH'
    - pattern: '\s+AG\.?$'
      replacement: ' AG'
    - pattern: '\s+SA\.?$'
      replacement: ' SA'
    - pattern: '\s+SARL\.?$'
      replacement: ' SARL'
    - pattern: '\s+SAS\.?$'
      replacement: ' SAS'
    - pattern: '\s+BV\.?$'
      replacement: ' BV'
    - pattern: '\s+NV\.?$'
      replacement: ' NV'
    - pattern: '\s+AB\.?$'
      replacement: ' AB'
    - pattern: '\s+AS\.?$'
      replacement: ' AS'
    - pattern: '\s+Pty\s+Ltd\.?$'
      replacement: ' Pty Ltd'
    - pattern: '\s+Pvt\s+Ltd\.?$'
      replacement: ' Pvt Ltd'
    - pattern: '\s+Pte\s+Ltd\.?$'
      replacement: ' Pte Ltd'
    - pattern: '\s+Sdn\s+Bhd\.?$'
      replacement: ' Sdn Bhd'
    
    # Common abbreviation fixes
    - pattern: '\s+&\s+'
      replacement: ' & '
    - pattern: '\s+and\s+'
      replacement: ' & '
    - pattern: '\s+\+\s+'
      replacement: ' + '
    
    # Capitalization fixes for common words
    - pattern: '\bllc\b'
      replacement: 'LLC'
    - pattern: '\binc\b'
      replacement: 'Inc'
    - pattern: '\bcorp\b'
      replacement: 'Corp'
    - pattern: '\bltd\b'
      replacement: 'Ltd'
    
  # Length constraints
  min_length: 2
  max_length: 150  # Increased to accommodate longer international names

website_url:
  # Domains to remove/reject (social media, search engines, etc.)
  remove_patterns:
    # Major search engines
    - 'google.com'
    - 'google.ca'
    - 'google.co.uk'
    - 'google.de'
    - 'google.fr'
    - 'bing.com'
    - 'yahoo.com'
    - 'duckduckgo.com'
    
    # Social media platforms
    - 'linkedin.com'
    - 'facebook.com'
    - 'twitter.com'
    - 'instagram.com'
    - 'youtube.com'
    - 'tiktok.com'
    - 'snapchat.com'
    - 'pinterest.com'
    - 'reddit.com'
    
    # Generic/test domains
    - 'example.com'
    - 'test.com'
    - 'localhost'
    - 'domain.com'
    - 'website.com'
    - 'site.com'
    
    # Email providers (not business websites)
    - 'gmail.com'
    - 'yahoo.com'
    - 'hotmail.com'
    - 'outlook.com'
    - 'aol.com'
    
    # Other non-business domains
    - 'wikipedia.org'
    - 'craigslist.org'
    - 'ebay.com'
    - 'amazon.com'
    - 'alibaba.com'
    
  # Required protocols for valid URLs
  required_protocols:
    - 'http://'
    - 'https://'
    
  # Domain validation settings
  domain_validation: true
  ssl_preferred: true
  
  # URL normalization patterns
  normalize_patterns:
    # Remove trailing slashes
    - pattern: '/$'
      replacement: ''
    # Normalize protocol to lowercase
    - pattern: '^HTTP://'
      replacement: 'http://'
    - pattern: '^HTTPS://'
      replacement: 'https://'
    # Remove www prefix for consistency (optional)
    - pattern: '^(https?://)www\.'
      replacement: '$1'

search_artifacts:
  # Comprehensive patterns for removing Google search artifacts and navigation
  remove_patterns:
    # Primary garbage pattern from requirements
    - 'Some results may have been delisted consistent with local laws.*'
    - 'Sirius XM and.*Some results may have been delisted.*'
    
    # Search result metadata
    - 'Learn more Next'
    - 'About [0-9,]+ results'
    - 'About \d{1,3}(,\d{3})* results'
    - 'Search instead for.*'
    - 'Did you mean:.*'
    - 'Showing results for.*'
    - 'No results found for.*'
    - 'Results for.*'
    - 'Search results for.*'
    
    # Navigation elements
    - 'Previous.*Next'
    - 'Page \d+ of \d+'
    - 'More results'
    - 'Related searches'
    - 'People also ask'
    - 'Videos.*Images.*News.*Shopping'
    - 'Cached.*Similar.*'
    - 'More from.*'
    - 'Jump to.*'
    - 'See results about.*'
    
    # Time-based artifacts
    - '\d+ hours? ago'
    - '\d+ days? ago'
    - '\d+ weeks? ago'
    - '\d+ months? ago'
    - '\d+ years? ago'
    
    # Rating and review artifacts
    - '\d+\.\d+ stars?'
    - '\d+/\d+ rating'
    - '\d+ reviews?'
    - 'Rating: \d+'
    
    # Location artifacts
    - 'Near you'
    - 'Nearby'
    - 'In your area'
    - 'Local results'
    
    # Advertisement indicators
    - 'Ad'
    - 'Sponsored'
    - 'Advertisement'
    - 'Promoted'

# Text normalization settings
text_normalization:
  # Character replacements for cleaning
  character_replacements:
    # Smart quotes to regular quotes
    - pattern: '["""]'
      replacement: '"'
    - pattern: "[''']"
      replacement: "'"
    # Em/en dashes to regular dashes
    - pattern: '[—–]'
      replacement: '-'
    # Multiple spaces to single space
    - pattern: '\s+'
      replacement: ' '
    # Remove zero-width characters
    - pattern: '[\u200b-\u200d\ufeff\u2060\u180e]'
      replacement: ''
  
  # Encoding fixes
  encoding_fixes:
    - pattern: 'â€™'
      replacement: "'"
    - pattern: 'â€œ'
      replacement: '"'
    - pattern: 'â€'
      replacement: '"'
    - pattern: 'â€"'
      replacement: '-'
    - pattern: 'Â'
      replacement: ''

# Performance and processing settings
processing:
  # Maximum processing time per field (seconds)
  max_processing_time: 5
  
  # Maximum text length to process
  max_text_length: 10000
  
  # Enable/disable specific cleaning modules
  modules:
    search_artifacts: true
    html_fragments: true
    text_normalization: true
    company_normalization: true
    url_normalization: true